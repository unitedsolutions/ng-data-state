{"version":3,"sources":["../../../src/data-resource/poster/post-processor.ts"],"names":[],"mappings":"AAEA,MAAM,CAAC,OAAO,WAAU,IAAI,EAAE,OAAO;IAArC,iBAYC;IAXC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;IAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACrC,IAAI,CAAC,OAAO,EAAE,CAAC;IACf,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;IAElE,OAAO,CAAC,KAAK,CAAC;QACZ,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC3B,KAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,OAAO,CAAC;AACjB,CAAC","file":"post-processor.js","sourceRoot":"","sourcesContent":["import * as _ from 'lodash';\n\nexport default function(data, options) {\n  this.pendingPostData = data;\n  let index = this.data.push(data) - 1;\n  this.publish();\n  let promise = this.http.post(this.url, data, options).toPromise();\n  \n  promise.catch(() => {\n    this.data.splice(index, 1);\n    this.publish();\n  });\n  \n  return promise;\n}\n"]}