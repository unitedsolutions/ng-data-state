{"version":3,"sources":["../../../../src/data-resource/updaters/updater-generator/updater-generator.ts"],"names":[],"mappings":"AACA,OAAO,OAAO,MAAO,qCAAqC,CAAC;AAC3D,OAAO,QAAQ,MAAM,mCAAmC,CAAC;AAEzD,MAAM,CAAC,OAAO,WAAU,MAAM;IAC5B,MAAM,CAAC,UAAS,IAAI,EAAE,OAAO;QAAtB,iBAKN;QAJC,IAAI,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC9C,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;QACrE,OAAO,CAAC,KAAK,CAAC,cAAM,OAAA,QAAQ,CAAC,IAAI,CAAC,KAAI,EAAE,cAAc,CAAC,EAAnC,CAAmC,CAAC,CAAC;QACzD,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC,CAAA;AACH,CAAC","file":"updater-generator.js","sourceRoot":"","sourcesContent":["import * as _   from 'lodash';\nimport updater  from './update-processor/update-processor';\nimport reverter from './update-reverter/update-reverter';\n\nexport default function(method) {\n  return function(data, options) {\n    let originalRecord = updater.call(this, data);\n    let promise = this.http[method](this.url, data, options).toPromise();\n    promise.catch(() => reverter.call(this, originalRecord));\n    return promise;    \n  }  \n}\n"]}